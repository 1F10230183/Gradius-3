(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9208:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9985)}])},9985:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var l=n(5893),s=n(24),o=n(7294),r=n(8239),a=n(2237),u=n(1290);let c=()=>{let[e,t]=(0,o.useState)(0),[n,s]=(0,o.useState)(300),r=async e=>{let n=await u.x.player.$post({body:e});t(n.PlayerPos.x),s(n.PlayerPos.y)},[c,i]=(0,o.useState)(500),[x,y]=(0,o.useState)(300);(0,o.useEffect)(()=>{let e=async()=>{let e=await u.x.enemy.$post({body:{EnemyPos:{x:c,y:x}}});i(e.EnemyPos.x),y(e.EnemyPos.y)},t=setInterval(e,500);return()=>{clearInterval(t)}},[c,x]);let[d,h]=(0,o.useState)([]),f=async()=>{let t=await u.x.player.shoot.$post({body:{PlayerPos:{x:e,y:n},MoveInput:"none"}}),l=[...d,t];h(l)};return(0,o.useEffect)(()=>{let e=()=>{let e=d.map(e=>({...e,x:e.x+e.speed}));h(e)},t=setInterval(e,10);return()=>{clearInterval(t)}},[d]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Hf,{width:720,height:720,stroke:"black",children:(0,l.jsxs)(a.mh,{children:[(0,l.jsx)(a.Cd,{x:e,y:n,stroke:"black",fill:"blue",radius:50}),(0,l.jsx)(a.Cd,{x:c,y:x,stroke:"black",fill:"red",radius:75}),d.map(e=>(0,l.jsx)(a.Cd,{x:e.x,y:e.y,stroke:"black",fill:"green",radius:e.radius},e.x))]})}),(0,l.jsx)("button",{onClick:()=>{r({PlayerPos:{x:e,y:n},MoveInput:"down"}),console.log(n)},children:"down"}),(0,l.jsx)("button",{onClick:()=>{r({PlayerPos:{x:e,y:n},MoveInput:"up"}),console.log(n)},children:"up"}),(0,l.jsx)("button",{onClick:()=>{r({PlayerPos:{x:e,y:n},MoveInput:"left"}),console.log(n)},children:"left"}),(0,l.jsx)("button",{onClick:()=>{r({PlayerPos:{x:e,y:n},MoveInput:"right"}),console.log(n)},children:"right"}),(0,l.jsx)("button",{onClick:()=>{f(),console.log(n)},children:"shoot"})]})};var i=n(3377),x=n(5371);let y=()=>{let[e]=(0,s.KO)(x.L),[t,n]=(0,o.useState)(),a=async()=>{let e=await u.x.tasks.$get().catch(i.F);null!==e&&n(e)};return((0,o.useEffect)(()=>{a()},[]),t&&e)?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c,{})}):(0,l.jsx)(r.g,{visible:!0})};var d=y}},function(e){e.O(0,[237,774,888,179],function(){return e(e.s=9208)}),_N_E=e.O()}]);