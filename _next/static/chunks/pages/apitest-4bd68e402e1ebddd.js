(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{432:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apitest",function(){return l(7408)}])},7408:function(e,s,l){"use strict";l.r(s);var n=l(5893),i=l(24),r=l(7294),t=l(8239),d=l(1290),a=l(5371);let c=()=>{let[e]=(0,i.KO)(a.L),[s,l]=(0,r.useState)(null),[c,h]=(0,r.useState)(null),x=async()=>{let e=await d.x.game.session.$get();l(e)},u=async()=>{if(!e)return;let s=await d.x.game.session.$post({body:{playerId:e.id,stageId:"debug"}});l(s)},o=async()=>{e&&await d.x.game.session.score.$post({body:{playerId:e.id,score:100}})},j=async()=>{if(!e||!c)return;let s=await d.x.game.player.move.$post({body:{player:c,MoveInput:"up"}});h(s)},p=async()=>{if(!e)return;let s=await d.x.game.player.$post({body:{userid:e.id,username:"test"}});h(s)};return((0,r.useEffect)(()=>{let s=async()=>{if(!e)return;let s=await d.x.game.player.$get();h(s)},l=setInterval(()=>{s()},1e3);return()=>clearInterval(l)},[e]),(0,r.useEffect)(()=>{let e=setInterval(()=>{x()},1e3);return()=>clearInterval(e)},[]),e)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsxs)("div",{style:{marginRight:"20px"},children:[(0,n.jsx)("h2",{children:"Gamesession"}),(0,n.jsx)("button",{onClick:u,children:"セッション作る"}),(0,n.jsx)("button",{onClick:o,children:"スコア加算"})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("h3",{children:"ゲームセッションID"}),(0,n.jsx)("p",{children:null==s?void 0:s.id}),(0,n.jsx)("h3",{children:"プレイヤーID"}),(0,n.jsx)("p",{children:null==s?void 0:s.playerId}),(0,n.jsx)("h3",{children:"ステージID"}),(0,n.jsx)("p",{children:null==s?void 0:s.stageId}),(0,n.jsx)("h3",{children:"スコア"}),(0,n.jsx)("p",{children:null==s?void 0:s.score}),(0,n.jsx)("h3",{children:"開始時刻"}),(0,n.jsx)("p",{children:null==s?void 0:s.startTime})]})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsxs)("div",{style:{marginRight:"20px"},children:[(0,n.jsx)("h2",{children:"Player"}),(0,n.jsx)("button",{onClick:p,children:"作成"}),(0,n.jsx)("button",{onClick:j,children:"動かす(上)"})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("h3",{children:"プレイヤーID"}),(0,n.jsx)("p",{children:null==c?void 0:c.id}),(0,n.jsx)("h3",{children:"プレイヤー名"}),(0,n.jsx)("p",{children:null==c?void 0:c.name}),(0,n.jsx)("h3",{children:"プレイヤーのX座標"}),(0,n.jsx)("p",{children:null==c?void 0:c.x}),(0,n.jsx)("h3",{children:"プレイヤーのY座標"}),(0,n.jsx)("p",{children:null==c?void 0:c.y})]})]})]}):(0,n.jsx)(t.g,{visible:!0})};s.default=c}},function(e){e.O(0,[774,888,179],function(){return e(e.s=432)}),_N_E=e.O()}]);